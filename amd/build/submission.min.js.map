{"version":3,"file":"submission.min.js","sources":["../src/submission.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * @module assignsubmission_onlyoffice/submission\n * @copyright  2025 Ascensio System SIA <integration@onlyoffice.com>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n **/\ndefine([\n    'core/notification',\n    'assignsubmission_onlyoffice/repository'\n], function(Notification, repository) {\n    return {\n        init: function(contextid, submissionid, readonly, format, templatetype) {\n            // eslint-disable-next-line no-undef\n            if (typeof DocsAPI === \"undefined\" && DocsAPI === null) {\n                Notification.error('Document Server is not defined!');\n                return;\n            }\n\n            repository.buildSubmissionEditorConfig(contextid, submissionid, readonly, format, templatetype).then(config => {\n                const editorConfig = JSON.parse(config);\n                // eslint-disable-next-line no-undef\n                new DocsAPI.DocEditor('onlyoffice-editor', editorConfig);\n                return;\n            }).catch(error => {\n                // eslint-disable-next-line no-console\n                console.error('Error building submission editor config:', error);\n            });\n        }\n    };\n});\n"],"names":["define","Notification","repository","init","contextid","submissionid","readonly","format","templatetype","DocsAPI","buildSubmissionEditorConfig","then","config","editorConfig","JSON","parse","DocEditor","catch","error","console"],"mappings":";;;;;AAoBAA,gDAAO,CACH,oBACA,2CACD,SAASC,aAAcC,kBACf,CACHC,KAAM,SAASC,UAAWC,aAAcC,SAAUC,OAAQC,cAE/B,oBAAZC,SAAuC,OAAZA,QAKtCP,WAAWQ,4BAA4BN,UAAWC,aAAcC,SAAUC,OAAQC,cAAcG,MAAKC,eAC3FC,aAAeC,KAAKC,MAAMH,YAE5BH,QAAQO,UAAU,oBAAqBH,iBAE5CI,OAAMC,QAELC,QAAQD,MAAM,2CAA4CA,UAX1DjB,aAAaiB,MAAM"}